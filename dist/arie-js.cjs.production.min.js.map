{"version":3,"file":"arie-js.cjs.production.min.js","sources":["../src/arie.ts","../src/primitives.tsx"],"sourcesContent":["import {useEffect, useState} from 'react'\nimport {Cursor, EventType} from './types'\n\n/**\n * ----------------------------------------------------------------------------------*\n * ------------------------------ initArie_CURSOR ----------------------------------------------*\n * ------------------------------------------------------------------------*\n **/\n\nconst initArie: Cursor = {\n position: {\n  client: {x: null, y: null},\n  screen: {x: null, y: null},\n  page: {x: null, y: null}\n },\n scroll: {\n  wheelDown: null,\n  wheelUp: null\n },\n eventType: null,\n selectedElement: {\n  position: {\n   x: null,\n   y: null,\n   angle: null\n  },\n  boundingRect: {\n   left: null,\n   top: null,\n   width: null,\n   height: null\n  },\n  isHover: false\n }\n}\n\nconst useArieCursor = (\n touchEnabled: boolean = true,\n selectedElementId: string | null = null,\n selectedElementOffset: {x: number; y: number} = {x: 0, y: 0}\n): Cursor => {\n const [cursor, setCursor] = useState<Cursor>(initArie)\n let selectedEl: HTMLElement | null = null\n\n const onCursorTouchEvent = (event: Event): void => {\n  let clientX: number\n  let clientY: number\n  let screenX: number\n  let screenY: number\n  let pageX: number\n  let pageY: number\n  const scroll = {...cursor.scroll}\n\n  switch (event.type as EventType) {\n   case 'mousemove':\n   case 'mousedown':\n   case 'mouseup':\n   case 'wheel':\n    const cursorEvent = event as MouseEvent\n\n    clientX = cursorEvent.clientX\n    clientY = cursorEvent.clientY\n    screenX = cursorEvent.screenX\n    screenY = cursorEvent.screenY\n    pageX = cursorEvent.pageX\n    pageY = cursorEvent.pageY\n    scroll.wheelDown = (event as WheelEvent).deltaY > 0\n    scroll.wheelUp = (event as WheelEvent).deltaY < 0\n\n    break\n   case 'touchmove':\n   case 'touchstart':\n    const {touches} = event as TouchEvent\n    const touchEvent = touches[0]\n\n    clientX = touchEvent.clientX\n    clientY = touchEvent.clientY\n    screenX = touchEvent.screenX\n    screenY = touchEvent.screenY\n    pageX = touchEvent.pageX\n    pageY = touchEvent.pageY\n\n    break\n   default:\n    throw new Error(`Unknown event triggered \"${event.type}\"`)\n  }\n\n  const selectedElPosition = {...cursor.selectedElement.position}\n  const selectedElBoundingRect = {...cursor.selectedElement.boundingRect}\n  if (selectedEl) {\n   const {left, top, width, height} = selectedEl.getBoundingClientRect()\n   selectedElPosition.x = clientX - left - selectedElementOffset.x\n   selectedElPosition.y = clientY - top - selectedElementOffset.y\n   const rad2Deg = 180 / Math.PI\n   const angleOffset = 180\n   selectedElPosition.angle = Math.atan2(selectedElPosition.y, -selectedElPosition.x) * rad2Deg + angleOffset\n   selectedElBoundingRect.left = left\n   selectedElBoundingRect.top = top\n   selectedElBoundingRect.width = width\n   selectedElBoundingRect.height = height\n  }\n\n  setCursor((prevState) => ({\n   ...prevState,\n   position: {\n    client: {x: clientX, y: clientY},\n    screen: {x: screenX, y: screenY},\n    page: {x: pageX, y: pageY}\n   },\n   scroll,\n   eventType: event.type,\n   selectedElement: {\n    ...prevState.selectedElement,\n    position: selectedElPosition,\n    boundingRect: selectedElBoundingRect\n   }\n  }))\n }\n\n const onLeave = (): void => {\n  setCursor(initArie)\n }\n\n const onSelectedElementEnter = (): void => {\n  const selectedElement = {...cursor.selectedElement}\n  selectedElement.isHover = true\n  setCursor((prevState) => ({\n   ...prevState,\n   selectedElement\n  }))\n }\n\n const onSelectedElementLeave = (): void => {\n  const selectedElement = {...cursor.selectedElement}\n  selectedElement.isHover = false\n  setCursor((prevState) => ({\n   ...prevState,\n   selectedElement\n  }))\n }\n\n useEffect(() => {\n  if (selectedElementId) {\n   selectedEl = document.getElementById(selectedElementId)\n   if (!selectedEl) {\n    throw new Error(`Element with id=\"${selectedElementId}\" doesn't exists`)\n   }\n   selectedEl.addEventListener('mouseenter', onSelectedElementEnter)\n   selectedEl.addEventListener('mouseleave', onSelectedElementLeave)\n  }\n  document.addEventListener('mousemove', onCursorTouchEvent)\n  document.addEventListener('mousedown', onCursorTouchEvent)\n  document.addEventListener('mouseup', onCursorTouchEvent)\n  document.addEventListener('wheel', onCursorTouchEvent)\n  document.addEventListener('mouseleave', onLeave)\n  if (touchEnabled) {\n   window.addEventListener('touchmove', onCursorTouchEvent)\n   window.addEventListener('touchstart', onCursorTouchEvent)\n   window.addEventListener('touchend', onLeave)\n  }\n\n  return (): void => {\n   document.removeEventListener('mousemove', onCursorTouchEvent)\n   document.removeEventListener('mousedown', onCursorTouchEvent)\n   document.removeEventListener('mouseup', onCursorTouchEvent)\n   document.removeEventListener('wheel', onCursorTouchEvent)\n   document.removeEventListener('mouseleave', onLeave)\n   if (touchEnabled) {\n    window.removeEventListener('touchmove', onCursorTouchEvent)\n    window.removeEventListener('touchstart', onCursorTouchEvent)\n    window.removeEventListener('touchend', onLeave)\n   }\n  }\n }, [])\n\n return cursor\n}\n\n/**\n * ----------------------------------------------------------------------------------*\n * ------------------------------ EXPORT ----------------------------------------------*\n * ------------------------------------------------------------------------*\n **/\nconst useArie = useArieCursor\nexport {useArie}\n","import * as React from 'react'\nimport {useEffect, useState} from 'react'\nimport styled from 'styled-components'\n\nconst PointerValue = () => {\n const [value, setValue] = useState('0000')\n\n useEffect(() => {\n  const format = (num: number | string, pad = 4) => {\n   return num.toString().padStart(pad, '0')\n  }\n  const setFromEvent = (event: {clientX: number | string; clientY: number | string}) => {\n   const x = format(event.clientX, 5)\n   const y = format(event.clientY, 5)\n   setValue(`X: ${x}, Y: ${y}`)\n  }\n\n  window.addEventListener('mousemove', setFromEvent)\n\n  return () => {\n   window.removeEventListener('mousemove', setFromEvent)\n  }\n }, [])\n\n /**\n  *\n  * @returns {value}. - A decimal value for each X and Y axis.\n  * This component renders a string of numbers displaying\n  * pointer coordinates and event data.\n  *\n  */\n\n return (\n  <DataString>\n   <span>{value}</span>\n  </DataString>\n )\n}\n\n/**\n *\n * @returns {component}.\n * <span> - A decimal value for each X and Y axis.\n *\n * Pass this component to a parent for styling.\n *\n */\n\nconst PointerData = () => {\n return (\n  <div className={'--traxx-pointer-value'}>\n   <PointerValue />\n  </div>\n )\n}\n\n/* -------------------------------------------------------------------------------------------------\n * ScrollValue\n * -----------------------------------------------------------------------------------------------*/\n\ninterface scrollProps {\n /**\n  * The window object.\n  */\n window: Window\n /**\n  * The document object.\n  */\n document: Document\n}\n\nconst scrollFraction = ({window, document}: scrollProps) => {\n /**\n  * i dont know what this does.\n  */\n return Math.min(window.scrollY / (document.body.offsetHeight - 770), 0.999)\n}\n\nconst ScrollValue = () => {\n /**\n  * useState (can be used to set the initial value of the state)\n  * default is 'traxx©'\n  */\n const [value, setValue] = useState('traxx©')\n\n useEffect(() => {\n  /**\n   *\n   * @param num\n   * @param pad\n   * @returns a string of numbers and leading zeros.\n   */\n  const format = (num: number | string, pad = 4) => {\n   return num.toString().padStart(pad, '0')\n  }\n\n  const setFromScroll = () => {\n   const y = scrollFraction({window, document})\n   /**\n    * @returns `SCROLL: 0.000`\n    */\n   setValue(`SCROLL: 0.${format(y.toFixed(3), 2)}`)\n  }\n\n  window.addEventListener('scroll', setFromScroll)\n\n  return () => {\n   window.removeEventListener('scroll', setFromScroll)\n  }\n }, [])\n\n /**\n  *\n  * @returns {value}.\n  * This component renders a string of numbers displaying\n  * scroll position on the page.\n  *\n  */\n\n return (\n  <DataString>\n   <span>{value}</span>\n  </DataString>\n )\n}\n\n/**\n *\n * @returns {component}.\n * <span> - A decimal value for each X and Y axis.\n *\n * Pass this component to a parent for styling.\n *\n */\n\nconst ScrollData = () => {\n return (\n  <div className={'--traxx-scroll-value'}>\n   <ScrollValue />\n  </div>\n )\n}\n\nconst StyledString = styled.p`\n font-family: monospace;\n font-size: 1rem;\n font-weight: 600;\n`\n\nconst DataString = StyledString\n\n////////////////////////////////////////\nconst ArieCursor = PointerData\nconst ArieScroll = ScrollData\n//////////////////////////////////////\n\nexport {\n //\n ArieCursor,\n //\n ArieScroll\n}\n"],"names":["initArie","position","client","x","y","screen","page","scroll","wheelDown","wheelUp","eventType","selectedElement","angle","boundingRect","left","top","width","height","isHover","PointerValue","useState","value","setValue","useEffect","format","num","pad","toString","padStart","setFromEvent","event","clientX","clientY","window","addEventListener","removeEventListener","React","DataString","ScrollValue","setFromScroll","document","Math","min","scrollY","body","offsetHeight","toFixed","styled","p","className","touchEnabled","selectedElementId","selectedElementOffset","cursor","setCursor","selectedEl","onCursorTouchEvent","screenX","screenY","pageX","pageY","type","deltaY","touchEvent","touches","Error","selectedElPosition","selectedElBoundingRect","getBoundingClientRect","rad2Deg","PI","atan2","prevState","onLeave","onSelectedElementEnter","onSelectedElementLeave","getElementById"],"mappings":"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"}