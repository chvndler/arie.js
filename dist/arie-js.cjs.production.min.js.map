{"version":3,"file":"arie-js.cjs.production.min.js","sources":["../src/arie.ts","../src/primitives/index.tsx","../src/hooks.ts"],"sourcesContent":["import {useEffect, useState} from 'react'\nimport {Cursor, EventType} from './types'\n\n/**\n *\n * @description\n * Renders a string of numbers displaying\n * CURSOR and SCROLL information/data.\n *\n * @author = Chandler Chappell <@chvndler>\n * @license = This package is provided \"as is,\" without warranty of any kind, expressed or implied.\n * In no event shall the author be held liable for any damages arising in any way from the use of this package.\n *\n * https://github.com/chvndler\n * Copyright © 2022. CDC® All rights reserved.\n *\n * LICENSE MIT 2022\n *\n * Have fun.\n *\n **/\n\n/**\n * ----------------------------------------------------------------------------------*\n * ------------------------------ initArie_CURSOR ----------------------------------------------*\n * ------------------------------------------------------------------------*\n **/\n\nconst initArie: Cursor = {\n  position: {\n    client: {x: null, y: null},\n    screen: {x: null, y: null},\n    page: {x: null, y: null}\n  },\n  scroll: {\n    wheelDown: null,\n    wheelUp: null\n  },\n  eventType: null,\n  selectedElement: {\n    position: {\n      x: null,\n      y: null,\n      angle: null\n    },\n    boundingRect: {\n      left: null,\n      top: null,\n      width: null,\n      height: null\n    },\n    isHover: false\n  }\n}\n\nconst useArieCursor = (\n  touchEnabled: boolean = true,\n  selectedElementId: string | null = null,\n  selectedElementOffset: {x: number; y: number} = {x: 0, y: 0}\n): Cursor => {\n  const [cursor, setCursor] = useState<Cursor>(initArie)\n  let selectedEl: HTMLElement | null = null\n\n  const onCursorTouchEvent = (event: Event): void => {\n    let clientX: number\n    let clientY: number\n    let screenX: number\n    let screenY: number\n    let pageX: number\n    let pageY: number\n    const scroll = {...cursor.scroll}\n\n    switch (event.type as EventType) {\n      case 'mousemove':\n      case 'mousedown':\n      case 'mouseup':\n      case 'wheel':\n        const cursorEvent = event as MouseEvent\n\n        clientX = cursorEvent.clientX\n        clientY = cursorEvent.clientY\n        screenX = cursorEvent.screenX\n        screenY = cursorEvent.screenY\n        pageX = cursorEvent.pageX\n        pageY = cursorEvent.pageY\n        scroll.wheelDown = (event as WheelEvent).deltaY > 0\n        scroll.wheelUp = (event as WheelEvent).deltaY < 0\n\n        break\n      case 'touchmove':\n      case 'touchstart':\n        const {touches} = event as TouchEvent\n        const touchEvent = touches[0]\n\n        clientX = touchEvent.clientX\n        clientY = touchEvent.clientY\n        screenX = touchEvent.screenX\n        screenY = touchEvent.screenY\n        pageX = touchEvent.pageX\n        pageY = touchEvent.pageY\n\n        break\n      default:\n        throw new Error(`Unknown event triggered \"${event.type}\"`)\n    }\n\n    const selectedElPosition = {...cursor.selectedElement.position}\n    const selectedElBoundingRect = {...cursor.selectedElement.boundingRect}\n    if (selectedEl) {\n      const {left, top, width, height} = selectedEl.getBoundingClientRect()\n      selectedElPosition.x = clientX - left - selectedElementOffset.x\n      selectedElPosition.y = clientY - top - selectedElementOffset.y\n      const rad2Deg = 180 / Math.PI\n      const angleOffset = 180\n      selectedElPosition.angle = Math.atan2(selectedElPosition.y, -selectedElPosition.x) * rad2Deg + angleOffset\n      selectedElBoundingRect.left = left\n      selectedElBoundingRect.top = top\n      selectedElBoundingRect.width = width\n      selectedElBoundingRect.height = height\n    }\n\n    setCursor((prevState) => ({\n      ...prevState,\n      position: {\n        client: {x: clientX, y: clientY},\n        screen: {x: screenX, y: screenY},\n        page: {x: pageX, y: pageY}\n      },\n      scroll,\n      eventType: event.type,\n      selectedElement: {\n        ...prevState.selectedElement,\n        position: selectedElPosition,\n        boundingRect: selectedElBoundingRect\n      }\n    }))\n  }\n\n  const onLeave = (): void => {\n    setCursor(initArie)\n  }\n\n  const onSelectedElementEnter = (): void => {\n    const selectedElement = {...cursor.selectedElement}\n    selectedElement.isHover = true\n    setCursor((prevState) => ({\n      ...prevState,\n      selectedElement\n    }))\n  }\n\n  const onSelectedElementLeave = (): void => {\n    const selectedElement = {...cursor.selectedElement}\n    selectedElement.isHover = false\n    setCursor((prevState) => ({\n      ...prevState,\n      selectedElement\n    }))\n  }\n\n  useEffect(() => {\n    if (selectedElementId) {\n      selectedEl = document.getElementById(selectedElementId)\n      if (!selectedEl) {\n        throw new Error(`Element with id=\"${selectedElementId}\" doesn't exists`)\n      }\n      selectedEl.addEventListener('mouseenter', onSelectedElementEnter)\n      selectedEl.addEventListener('mouseleave', onSelectedElementLeave)\n    }\n    document.addEventListener('mousemove', onCursorTouchEvent)\n    document.addEventListener('mousedown', onCursorTouchEvent)\n    document.addEventListener('mouseup', onCursorTouchEvent)\n    document.addEventListener('wheel', onCursorTouchEvent)\n    document.addEventListener('mouseleave', onLeave)\n    if (touchEnabled) {\n      window.addEventListener('touchmove', onCursorTouchEvent)\n      window.addEventListener('touchstart', onCursorTouchEvent)\n      window.addEventListener('touchend', onLeave)\n    }\n\n    return (): void => {\n      document.removeEventListener('mousemove', onCursorTouchEvent)\n      document.removeEventListener('mousedown', onCursorTouchEvent)\n      document.removeEventListener('mouseup', onCursorTouchEvent)\n      document.removeEventListener('wheel', onCursorTouchEvent)\n      document.removeEventListener('mouseleave', onLeave)\n      if (touchEnabled) {\n        window.removeEventListener('touchmove', onCursorTouchEvent)\n        window.removeEventListener('touchstart', onCursorTouchEvent)\n        window.removeEventListener('touchend', onLeave)\n      }\n    }\n  }, [])\n\n  return cursor\n}\n\n/**\n * ----------------------------------------------------------------------------------*\n * ------------------------------ EXPORT ----------------------------------------------*\n * ------------------------------------------------------------------------*\n **/\nconst useArie = useArieCursor\nexport {useArie}\n","import * as React from 'react'\nimport {useEffect, useState} from 'react'\nimport styled from 'styled-components'\n/**\n *\n * @description\n * Render a string of text displaying\n * pointer coordinates and scroll data.\n *\n * @author: Chandler Chappell <@chvndler>\n * @license This package is provided \"as is,\" without warranty of any kind, expressed or implied.\n * In no event shall the author be held liable for any damages arising in any way from the use of this package.\n *\n * https://github.com/chvndler\n * Copyright © 2022. CDC® All rights reserved.\n *\n **/\n\n/* -------------------------------------------------------------------------------------------------\n * PointerValue\n * -----------------------------------------------------------------------------------------------*/\n\nconst PointerValue = () => {\n  const [value, setValue] = useState('arie.js')\n\n  useEffect(() => {\n    const format = (num: number | string, pad = 4) => {\n      return num.toString().padStart(pad, '0')\n    }\n    const setFromEvent = (event: {clientX: number | string; clientY: number | string}) => {\n      const x = format(event.clientX, 5)\n      const y = format(event.clientY, 5)\n      setValue(`X: ${x}, Y: ${y}`)\n    }\n\n    window.addEventListener('mousemove', setFromEvent)\n\n    return () => {\n      window.removeEventListener('mousemove', setFromEvent)\n    }\n  }, [])\n\n  /**\n   *\n   * @returns {value}. - A decimal value for each X and Y axis.\n   * This component renders a string of numbers displaying\n   * pointer coordinates and event data.\n   *\n   */\n\n  return (\n    <DataString>\n      <span>{value}</span>\n    </DataString>\n  )\n}\n\n/**\n *\n * @returns {component}.\n * <span> - A decimal value for each X and Y axis.\n *\n * Pass this component to a parent for styling.\n *\n */\n\nconst PointerData = () => {\n  return (\n    <div className={'--arie-pointer-value'}>\n      <PointerValue />\n    </div>\n  )\n}\n\n/* -------------------------------------------------------------------------------------------------\n * ScrollValue\n * -----------------------------------------------------------------------------------------------*/\n\ninterface scrollProps {\n  /**\n   * The window object.\n   */\n  window: Window\n  /**\n   * The document object.\n   */\n  document: Document\n}\n\nconst scrollFraction = ({window, document}: scrollProps) => {\n  /**\n   * i dont know what this does.\n   */\n  return Math.min(window.scrollY / (document.body.offsetHeight - 770), 0.999)\n}\n\nconst ScrollValue = () => {\n  /**\n   * useState (can be used to set the initial value of the state)\n   * default is 'traxx©'\n   */\n  const [value, setValue] = useState('traxx©')\n\n  useEffect(() => {\n    /**\n     *\n     * @param num\n     * @param pad\n     * @returns a string of numbers and leading zeros.\n     */\n    const format = (num: number | string, pad = 4) => {\n      return num.toString().padStart(pad, '0')\n    }\n\n    const setFromScroll = () => {\n      const y = scrollFraction({window, document})\n      /**\n       * @returns `SCROLL: 0.000`\n       */\n      setValue(`SCROLL: 0.${format(y.toFixed(3), 2)}`)\n    }\n\n    window.addEventListener('scroll', setFromScroll)\n\n    return () => {\n      window.removeEventListener('scroll', setFromScroll)\n    }\n  }, [])\n\n  /**\n   *\n   * @returns {value}.\n   * This component renders a string of numbers displaying\n   * scroll position on the page.\n   *\n   */\n\n  return (\n    <DataString>\n      <span>{value}</span>\n    </DataString>\n  )\n}\n\n/**\n *\n * @returns {component}.\n * <span> - A decimal value for each X and Y axis.\n *\n * Pass this component to a parent for styling.\n *\n */\n\nconst ScrollData = () => {\n  return (\n    <div className={'--arie-scroll-value'}>\n      <ScrollValue />\n    </div>\n  )\n}\n\nconst StyledString = styled.p`\n  font-family: monospace;\n  font-size: 1rem;\n  font-weight: 600;\n`\n\nconst DataString = StyledString\n\n////////////////////////////////////////\nconst ArieCursor = PointerData\nconst ArieScroll = ScrollData\n//////////////////////////////////////\n\nexport {\n  //\n  ArieCursor,\n  //\n  ArieScroll\n}\n","import {useEffect, useLayoutEffect} from 'react'\n\nexport const useIsomorphicLayoutEffect = typeof document !== 'undefined' ? useLayoutEffect : useEffect\n"],"names":["initArie","position","client","x","y","screen","page","scroll","wheelDown","wheelUp","eventType","selectedElement","angle","boundingRect","left","top","width","height","isHover","PointerValue","useState","value","setValue","useEffect","format","num","pad","toString","padStart","setFromEvent","event","clientX","clientY","window","addEventListener","removeEventListener","React","DataString","ScrollValue","setFromScroll","document","Math","min","scrollY","body","offsetHeight","toFixed","styled","p","useIsomorphicLayoutEffect","useLayoutEffect","className","touchEnabled","selectedElementId","selectedElementOffset","cursor","setCursor","selectedEl","onCursorTouchEvent","screenX","screenY","pageX","pageY","type","deltaY","touchEvent","touches","Error","selectedElPosition","selectedElBoundingRect","getBoundingClientRect","rad2Deg","PI","atan2","prevState","onLeave","onSelectedElementEnter","onSelectedElementLeave","getElementById"],"mappings":"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"}